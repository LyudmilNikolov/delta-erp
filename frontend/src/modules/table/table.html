<mat-card>
  <mat-table [dataSource]="data()" class="mat-elevation-z2">
    <ng-container matColumnDef="select">
      <mat-header-cell *matHeaderCellDef>
        <mat-checkbox
          [checked]="selection.selected.length === data().length"
          [indeterminate]="selection.hasValue() && selection.selected.length < data().length"
        ></mat-checkbox>
      </mat-header-cell>
      <mat-cell *matCellDef="let row">
        <mat-checkbox
          (click)="$event.stopPropagation()"
          (change)="$event ? selection.toggle(row) : null"
          [checked]="selection.isSelected(row)"
        ></mat-checkbox>
      </mat-cell>
    </ng-container>

    <ng-container matColumnDef="date">
      <mat-header-cell *matHeaderCellDef>Date</mat-header-cell>
      <mat-cell *matCellDef="let row">{{ row.date }}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="code">
      <mat-header-cell *matHeaderCellDef>Code</mat-header-cell>
      <mat-cell *matCellDef="let row">{{ row.code }}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="product">
      <mat-header-cell *matHeaderCellDef>Product</mat-header-cell>
      <mat-cell *matCellDef="let row">{{ row.product }}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="category">
      <mat-header-cell *matHeaderCellDef>Category</mat-header-cell>
      <mat-cell *matCellDef="let row">{{ row.category }}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="batch">
      <mat-header-cell *matHeaderCellDef>Batch</mat-header-cell>
      <mat-cell *matCellDef="let row">{{ row.batch }}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="quantity">
      <mat-header-cell *matHeaderCellDef>Quantity</mat-header-cell>
      <mat-cell *matCellDef="let row">{{ row.quantity }}</mat-cell>
    </ng-container>

    <ng-container matColumnDef="type">
      <mat-header-cell *matHeaderCellDef>Type</mat-header-cell>
      <mat-cell *matCellDef="let row">{{ row.type }}</mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="displayedColumns" />
    <mat-row
      *matRowDef="let row; columns: displayedColumns;"
      (click)="selection.toggle(row)"
    />
  </mat-table>
  <mat-paginator
    [length]="fullData().length"
    [pageSize]="pageSize()"
    [pageSizeOptions]="[5, 10, 20]"
    showFirstLastButtons
  />
</mat-card>
